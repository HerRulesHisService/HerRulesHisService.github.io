<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kink Word Quiz</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use Inter font -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            /* Deep, adult background color */
            background-color: #1a1a2e; /* Deep Navy/Violet */
        }
        /* Custom styles for aesthetic appeal */
        .card {
            /* Shadow adjusted for dark background contrast */
            box-shadow: 0 10px 30px -5px rgba(255, 255, 255, 0.08), 0 0 10px -5px rgba(255, 255, 255, 0.04);
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <!-- Firebase SDKs for future functionality -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, onSnapshot, collection, query, setDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Global variables must be defined before use
        let app = null;
        let db = null;
        let auth = null;
        let userId = null;

        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        // Initialize Firebase
        if (Object.keys(firebaseConfig).length > 0) {
            app = initializeApp(firebaseConfig);
            db = getFirestore(app);
            auth = getAuth(app);
            // setLogLevel('debug'); // Uncomment for debugging
        } else {
            console.error("Firebase configuration is missing.");
        }

        // Authentication Setup (Keeping auth logic but removing UI display)
        onAuthStateChanged(auth, (user) => {
            if (user) {
                userId = user.uid;
                console.log("User authenticated:", userId);
            } else {
                userId = crypto.randomUUID();
                console.log("No user authenticated. Using generated ID:", userId);
            }
        });

        const authenticate = async () => {
            try {
                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                } else {
                    await signInAnonymously(auth);
                }
            } catch (error) {
                console.error("Firebase authentication failed:", error);
            }
        };

        if (auth) authenticate();

        // Dummy function for quiz logic start (to show the file is functional)
        const startQuiz = () => {
            document.getElementById('quiz-intro').classList.add('hidden');
            document.getElementById('quiz-area').classList.remove('hidden');
            console.log("Quiz started!");
            // Update the success message with new theme colors
            document.getElementById('quiz-area').innerHTML = `
                <div class="p-8 text-center bg-teal-800 text-teal-200 rounded-lg">
                    <p class="text-2xl font-semibold">Quiz Running!</p>
                    <p class="mt-2">The core logic for loading questions would go here.</p>
                </div>
            `;
        };

        // Attach event listener to the start button
        window.onload = () => {
            const startButton = document.getElementById('start-quiz-button');
            if (startButton) {
                startButton.addEventListener('click', startQuiz);
            }
        };
    </script>

    <!-- Main Card - adjusted colors for contrast on dark background -->
    <div class="w-full max-w-2xl mx-auto bg-gray-800 p-8 md:p-12 rounded-xl card transition-all duration-300 border border-gray-700">
        <header class="text-center mb-10">
            <!-- Changed Header Title and Color -->
            <h1 class="text-4xl font-extrabold text-pink-400">Kink Word Quiz</h1>
            <!-- User ID section removed -->
        </header>

        <section id="quiz-intro">
            <!-- Intro Box - Darker background, vibrant border, light text -->
            <div class="text-center bg-gray-900 p-6 rounded-lg mb-8 border-l-4 border-pink-500">
                <h2 class="text-2xl font-semibold text-pink-300 mb-4">Welcome</h2>
                <p class="text-xl text-gray-300 leading-relaxed">
                    Step into the world where <span class="font-bold text-teal-400">words hold power</span>.
                    Before any journey into the realms of <span class="font-bold text-teal-400">dynamic play</span> or <span class="font-bold text-teal-400">conscious intimacy</span>, understanding the map is essential. Test your fluency in the language of consent, boundaries, and pleasure. Only then can you truly explore.
                </p>
            </div>

            <!-- Start Button - Vibrant color -->
            <button id="start-quiz-button"
                    class="w-full py-3 px-4 bg-pink-600 hover:bg-pink-700 text-white font-semibold rounded-lg transition duration-200 ease-in-out transform hover:scale-[1.01] focus:outline-none focus:ring-4 focus:ring-pink-500 focus:ring-opacity-50">
                Start the Test
            </button>
        </section>

        <section id="quiz-area" class="hidden">
            <!-- This area will be populated with quiz questions once started -->
            <div class="text-center text-gray-400">
                Loading quiz interface...
            </div>
        </section>
    </div>
</body>
</html>
